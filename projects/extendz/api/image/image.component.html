<input [multiple]="multiple" hidden type="file" #imgFileInput (change)="handleFile($event)" />

<div *ngIf="!mini">
  <fieldset class="field_set">
    <legend>{{ property.name | camelCase }}</legend>
    <div fxLayout="row wrap" fxLayoutAlign="start center" fxLayoutGap="1.25vw">
      <button
        mat-button
        class="upload-base upload-button"
        (click)="imgFileInput.click()"
        *ngIf="multiple || displayImages?.length === 0"
      >
        <ng-container *ngTemplateOutlet="add"> </ng-container>
      </button>
      <button
        mat-button
        class="upload-base"
        *ngFor="let image of displayImages"
        [matMenuTriggerFor]="appMenu"
        [style.background-image]="image"
      ></button>
    </div>
    <mat-menu #appMenu="matMenu" yPosition="above" xPosition="after" hasBackdrop>
      <button disabled mat-menu-item>Remove</button>
      <button (click)="imgFileInput.click()" mat-menu-item>Replace</button>
    </mat-menu>
  </fieldset>
</div>

<div *ngIf="mini">
  <button mat-icon-button (click)="imgFileInput.click()" matTooltip="Add images">
    <mat-icon>
      <svg viewBox="0 0 24 24">
        <path d="M0 0h24v24H0z" fill="none" />
        <path
          d="M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z"
        />
      </svg>
    </mat-icon>
  </button>
</div>

<ng-template #add>
  <mat-icon>
    <svg id="add" viewBox="0 0 24 24">
      <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
      <path d="M0 0h24v24H0z" fill="none" />
    </svg>
  </mat-icon>
</ng-template>
